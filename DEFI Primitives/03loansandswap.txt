# Centralized excane
The third module has to do with swaps and loans. A swap is just an exchange of one token for another token. We'll talk about collateralized loans, which we've already talked about a little bit. Then my favorite, the flash loans, which I've mentioned a number of times and it must be a little mysterious to you, but we'll cover it in this module as the third part. Let's, start with swaps and begin with centralized exchange. This is a course in the centralized finance. But nevertheless, there's a lot of stuff going on and centralized finance that we need to be aware of. When I talk about centralized exchange, I'm talking about centralized exchange of decentralized tokens. The so-called CeDeFi, C-E-D-E-F-I. Swap. What is a swap? Basically an exchange, one token for another. There's many different ways to do this. But the most popular today to do this is with a centralized exchange, for example, Coinbase or Coinbase Pro. There's many other exchanges. There's hundreds of exchanges. What's interesting with these centralized exchanges and contrast to the usual centralized exchange, where the New York Stock Exchange you decide to list on that exchange, that's where you would trade IBM, for example. But within this world of decentralized tokens, the same token can be traded on hundreds of different exchanges. Again, one option is centralized and this is just an example of some of the more popular tokens, and this is just the regular Coinbase screen that you could actually buy using Coinbase. But for those that are trading, you would use something like Coinbase Pro. Coinbase is a US fully regulated exchange. Indeed Coinbase is a public company now, so stock is traded and exchanged on centralized exchange for Coinbase.
Play video starting at :2:51 and follow transcript2:51
This is what it actually looks like in terms of Coinbase Pro. You can see on the far right, you've got the previous transactions, and then you've got basically the bed and the mass. There are people that are willing to buy and those are in green on the left and obviously want to buy at a low price. This actually shows all of the different amounts that people are willing to buy at the cheapest price. Then on the right, those that are willing to sell and they want a higher price. That's why they're on the right-hand side and in red, and then there's a matching in the middle and there's often a spread between the two. The exchange actually makes money. The centralized exchange makes money in that they earn a spread. There's also a trading fee that they would earn and that depends upon the particular exchange. But this is just an example of centralized exchange. One issue here is that there's so many exchanges that you need to be careful. Many of you will join the world of DeFi. You will potentially use decentralized exchange as we will go through in the stores. But many of you will also use a centralized exchange to deal with the DeFi. One issue is that there could be a much different price for a crypto depending upon the exchange that you actually look at. This is a screenshot from last year where you could see a very large difference between different exchanges for buying, let's say Bitcoin. Again, this is something that is different than what we're used to because if you go to the NYSE, there's one price for a share of IBM. Here we've got hundreds of prices.
Play video starting at :5:20 and follow transcript5:20
There are many incentives for some of these centralized exchanges to exaggerate volume. If they seem like they're big, then people will basically think, well this is a popular exchange, I should go there. They might attract initial coin offerings or initial exchange offerings, and the more business you do, the more money that you would actually make. It turns out that you need to be aware because on most of these exchanges the volume is fake. It turns out it's really easy to fake volume in the space. Indeed, think of it as, and I've already mentioned this, that I could easily transfer my coin from one wallet to another wallet that I own, and then go back and forth and back and forth, I still have the same amount of token, but I've created a lot of volume. You need to be aware, and there certain things that you should look for. This is just the same shot that I showed you before with the previous traits on the right. We've got the order book. That is the amounts and the prices that people are willing to buy and sell at. That graph in the middle, where the green and the red meet, that is where the trading actually takes place.
Play video starting at :7:4 and follow transcript7:04
What are we looking for in terms of an exchange that's a real exchange? Well, an obvious thing is if you use something that's fully regulated by the US government, the odds are that it is not a fake exchange. I think that's fairly clear, but there's various things that you can look for. I will actually go through some slides to show you some red flags in terms of what the order book looks like, what the spreads look like, simple things like round numbers. For example, people put orders in for, let's say one ether, two ether. It's unusual you put an order in to buy like 2.05647 ether. Again, there's some basic things that you can do in terms of forensics to figure out if an exchange is real or not. There's again, many different things that you could look at in terms of what did the previous trades look like, what is the correlation amongst the changes that you've got a strong prior belief are real exchanges. I've already mentioned the round numbers. The history, again, is going to be really important in terms of, what does the trading volume look like? We'll take a look at that and forensics and what about some examples here. This is an example of an exchange that is likely a fake exchange. If you look at the actual trades, you can see that they're almost immediately offsetting, because it's a buy and a sell of the same amount and just keeps on going like that, and it doesn't make any sense. The spread on this exchange is way higher than an exchange like Coinbase. This is an interesting one because this exchange claims to have five times the volume of Coinbase Pro or even more. But when you actually look at the history, it looks very suspicious. This is another exchange, and notice that the trading only occurs during a certain period and that doesn't make any sense. Again, this is the hours of zero trading, that's got to be a red flag. You can compare that to other exchanges where it doesn't look like that. Again, this is another exchange, it's got roughly the same volume as Coinbase Pro. The volume is constant, which doesn't make any sense. Volume does have some seasonality within the day or the week, but this is all basically the same volume. You look at that and you'd say, no, this can't be real. It's likely fake. Trade sizes. On the top, it looks very reasonable. Notice that most of the volume is with a smaller numbers, so smaller trades, which is exactly what we'd expect. The volume should be greater for smaller trades, and then for the bigger trades, it gets lower. Now, notice those spikes on the top two where we've got Coinbase and Kraken. Well, those spikes are things like 1, 2, 3, so they're round numbers. Then the two exchanges on the bottom, which have very large volume, it looks completely different. Again, you need to be careful here that these are red flags, that this volume just doesn't make any sense. The top two are very intuitive of good economic foundation, the bottom doesn't make any sense. This is just volume over an extended period of time. Notice the top two are actually pretty correlated. If you're looking at the correlation of the volume, it make sense. Then look at the bottom two, it doesn't make any sense. It has no correlation with the exchanges like Kraken or Coinbase or whoever you want to look at. There's essentially no correlation. Then the spreads. If you look at the spreads here on the top, you've got a couple of exchanges that seem quite reasonable in terms of the spreads. It does vary through time. But then look at the bottom two. The one on the left at the bottom especially, just doesn't make any sense. Notice where I'm pointing to like the zero is. Basically these are volatile high spreads that don't make any sense. It's pretty easy to do the forensics here, so you don't need to hire a forensics firm to identify a problem. Some people have estimated that if you look at the total volume of trading that's reported in the world across all these exchanges, that less than five percent of the volume is real. Again, this is something to be aware of. This is a way to get people to use your centralized exchange. Running an exchange is incredibly profitable. We saw from the IPO of Coinbase that this is extremely profitable business. I want to emphasize again that this is centralized finance. What these exchanges like Coinbase or Kraken, they're buynets. They're no different than the exchange like the New York Stock Exchange or Nasdaq. It's the same basic mechanism. The same screens you've seen, the same structure of an auto book is available. They are profitable. What does that mean when they're profitable? Well, they're making money because you as a user are basically paying them. Some of the value, your value, is being transferred to the centralized exchange. It's really important here to put that in context and this is the reason that I'm going through the centralized exchanges to put into context what decentralized exchange actually does. Decentralized exchange is going to be different because we're not trading with the broker, we're trading with an algorithm, and the algorithm doesn't care if you're buying or selling.

# decentralized excane
Now, let's talk about decentralized exchange. It's all under the category of Swap, which is basically exchange, swap one token for another token.
Play video starting at ::16 and follow transcript0:16
Basically, what we're going to do in DeFi is something atomic. Within a decentralized exchange, it will be atomic and that if there's a problem with the transaction, then we revert to the original state. There's nothing that can happen. The middle person, for example, a centralized exchange might actually cause some issues. We've certainly seen issues where centralized exchanges basically had to say, no, you can't trade. This happened with Robin Hood recently. We're given the volume that they experienced. They said that you can't sell. This is something that doesn't happen in decentralized finance. That happens in centralized finance. Again, we've got the use of smart contracts, the custody funds for what we actually want to do in the swap. Again, when we do an exchange, it is only going to execute if everything, all the conditions are met in the transaction.
Play video starting at :1:47 and follow transcript1:47
You could even put the equivalent of a limit order into the actual transaction that if the price is above X, then I'm not going to buy and that is straightforward to do and the contract, again, would recognize as and the transaction basically reverse the original state, which means you're not buying anything. When we talk about decentralized exchange, we will use the word DEX, so D-E-X. That's the lingo. That's on the Word Cloud and decentralized exchange. As I said, is that you're basically dealing with an algorithm, a smart contract. There is no other mechanism. We'll talk about two different categories of how this works. The first category is order matching and the second one is an automated market maker. We'll spend a fair bit of time on the automated market maker, not as much time on the order matching, which today is awkward to do. Let me tell you why. Order matching, it's what we saw with the Coinbase screen, where you've got certain people that are willing to sell at certain prices and certain people willing to buy at certain prices and then there is some middle portion where there is a match. This is possible to do in decentralized exchange. Effectively, these are basically think of them as if the price gets to X, then I'm willing to sell or buy. This is like a reasonable thing to actually have within potential contract. Kyber is an example of this. It's very interesting if you go to their Platform. Usual way that it happens is that let's say I want to use Coinbase to buy device in Ethereum. I just have set up my account. With Coinbase, you need to actually transfer some dollars to Coinbase to get started. I don't have any crypto, but I want to buy some Ethereum. I need to link my bank account to Coinbase and the transfer takes 2-3 days. Then I would have a dollar balance at Coinbase, and then I could use that dollar balance to buy, let's say some Ethereum. The Ethereum would be held by Coinbase, so Coinbase would have the private keys. I could at some point repatriate the Ethereum and they would give me the private keys. But most people just have Coinbase custody at the keys. With Kyber, it's very interesting because there's no transfer of dollars or anything like that, you just link your MetaMask wallet for example, which we'll set up in Module 4 of this course and you're ready to go immediately. My MetaMask wallet might have USDC in it, so US dollar equivalent, but you're ready to go. There's no sense of transferring. Again, this is just one of the protocols that is basically on chain and that is one of the disadvantages right now, because doing stuff on chain is expensive. To have a transaction on chain that is necessary, but to have all of these potential transactions on chain that could be really expensive to pull off in terms of the current gas fees. This is again, exactly what it looks like, similar to the Coinbase screen. But this is what Kyber actually offers. But again, this is a good idea right now, given the cost of doing things on chain, other firms have got some off chain solutions, but if you go off chain, there's issues involved with that also. Again, this is expensive to do with the current technology. In the future, this could be much more viable. But in my opinion, probably the automated market-makers have got some advantage here. That's what we're going to do next.

# Automatic market makers
Okay, so now let's talk about Automated Market Makers. They are very important feature of the DeFi landscape. This is a smart contract, and it deals with both sides of a trading pair. It quotes prices automatically and executes within the contract according to a rule. The rule could be simple, and we'll talk about a very simple constant product rule to start with or it could be much more elaborate. This is something that you could use to buy or sell at any point in time. This is constantly operational. The Automated Market Maker doesn't really care if you're buying or selling, it's just an algorithm. Let's talk about Automatic Market Makers, and I'll go through various different levels of complexity. One would be a fixed price ratio between two assets.
Play video starting at :1:29 and follow transcript1:29
This is very, I call it naive, and the reason is that if you have a fixed price, and we talked about this a little earlier, where we had just a fixed price between token and ether that, if it was the case that there was a decrease in the value of token in other markets, then token basically would be bought in another market and then deployed to the Automated Market Maker and all of the Ethereum would be drained from the contract. People effectively buying token cheap and then using that cheap token to get Ethereum. That is pretty naive because it's going to lead to the drain of the actual contract. The contract would have token in it, it would have Ethereum in it, and in the end, it would just have token in it. There's usually a pricing function that's used, and we'll go through a number of examples of pricing functions. Again, this is, I think a beautiful idea and that it is a technology that time is irrelevant. It doesn't matter when you want to trade. This is really important for DeFi protocols in general. For DeFi to work, it can't work on a 9:00 to 5:00 basis. It needs to work 24/7. All these contracts. Think of all these contracts that are interacting, and the decentralized exchange is just another example of a contract that we can interact with.
Play video starting at :3:32 and follow transcript3:32
It is interesting also, you don't have to give up custody of your funds. I would be transferring money to Coinbase, wait three days and then the transaction actually takes place. In this situation, I hold the funds until the transaction actually occurs, and is very, very efficient.
Play video starting at :3:55 and follow transcript3:55
Again, there's another idea here that's important, and this idea that I've mentioned a few times of composable liquidity. We will be taking liquidity like I gave this example of token and ether and actually working with that. We're able to create these trading systems, whereby we take these different tokens that are available on the Ethereum blockchain and easily put them together.
Play video starting at :4:37 and follow transcript4:37
This is like a fundamental component of the idea of DeFi Legos. There's advantages, obviously. The trade against the algorithm is great 24/7 is great, but it's important, and especially in these courses, I emphasize the downsides also. What are the risks here? One risk is the idea of impermanent loss. Again, another word for the word cloud of the learning experience, the four courses, impermanent loss. This is the idea of opportunity cost, and I want to go through some examples because this is such an important concept. As prices deviate from the beginning when you seed a trading pool or a liquidity pool, there will be some impermanent loss or some opportunity lost. Let's go through an example here. This is an example, we've got two tokens, token A and token B.
Play video starting at :5:55 and follow transcript5:55
They're both worth the same, one Ether. We set up a pool that has got A and B in it. It turns out the automated market maker has an exchange rate of one-to-one. We've got 100 A in the contract and 100 B. Notice the value of A and B are identical in the contract, so the total value of all of the escrow in the contract is 200 Ether. That's the starting point. Now, the world changes and it turns out that A and B both go up in value. That's great news. A, doubles in value. Now, on the open market for trading, so this is outside of the automated market maker, it might be on Coinbase or Kraken or Binance that A doubles in value. Now to buy A, it costs two Ether. B also increases in value. It actually quadruples. It goes from one to four, and so all of this is very good news. The AMM has got an exchange rate of one-to-one. Let's think about that. For a trader, they see the one-to-one and they go outside and buy A on the open market, which let's say is Coinbase. Then exchange the A for B and drain all of the B under the contract.
Play video starting at :7:57 and follow transcript7:57
That's basically what would happen here. This is interesting that we've got a contract that we've got 200 A and zero B. The B is gone, remember the B went up by four times. But given that it was offered at parity, then people buy the A in the open market and then send the A to the contract and withdraw all of the B. This is your ended, you provided liquidity and think of the value. In the end, you've got 200 A and the value of that is 400. What is impermanent loss? If you actually made money, you started out when you put the money in the pool, the value was 200 and now it's 400. Well, that seems good. But the idea of impermanent loss is, what if you didn't put the money in the pool? What if you just held the A and the B? Well, if you just held the A and the B, then the value is going to be much greater. Remember, you've got 200 A and the value is 400.
Play video starting at :9:35 and follow transcript9:35
This is basically doubling your money. You started with 200, you go to 400. Given that you did the pool. Now, consider the situation if you didn't put the money in the pool, you just held your A and your B. Well, what happens there? We know that A has doubled in value, so it's worth 200. We know that B has quadrupled in value, so it goes from a value of 100-400. If you did nothing, it would have been 600. The idea of the impermanent loss is, I put my money in the pool, and the end value was 400, but if I didn't do anything, the value would have been 600. The impermanent loss here is 200. One thing that's important, the price did deviate from par. This impermanent loss actually become smaller if the price of A increases and gets closer to the price of B. In this example, the impermanent loss is 200. This is an important concept of opportunity cost. This is a very simple example. We're going to go through a Uniswap example in a few minutes that has a different mechanism, it's not a one-to-one exchange. In any situation where you've got a one-to-one, this is a naive AMM, and if there's any deviation from par, then the contract will be drained. That's exactly what happened in this example, where all of the B is stripped out of the contract. Now I want to talk about something a little more general, and talk about impermanent loss with the Uniswap version 2, automated market maker. Actually version 3 exists today, it was recently released. But version 2 is still operational. I think it's important to understand what's going on with version 2 to fully appreciate version 3, which I deal with in some detail in the third course, the DeFi deep dive. Let's start out. This is fairly simple. We've got market prices, one Ether equals 100 DAI. For the purpose of this course, I'm using simplified numbers. Obviously, the price of Ether is much more than 100 DAI, which is linked to a dollar, which is like $100. But I'm just going to keep it simple and assume the base point is one Ether is $100. Alicia is going to make a contribution to liquidity pool, the automated market maker, and she will put in one Ether and 100 DAI. Notice those are equal in value. She will earn a fee for providing liquidity. Again, an equal amount is deposited. Alicia is not the only one in the pool. Indeed, there are others. The total pool is got 10 Ether and 1,000 DAI. The total liquidity is calculated as the product of the total number of coins and the pairs, so 10 Ether times 1,000 equals 10,000. That's what we'll call the total liquidity. It seems a little strange to do the multiplication, but you'll see that it becomes very useful. Alicia has got 10 percent of the pool, so 10 Ether, she's contributed one, 1,000 DAI, she's contributed 100. Let's go with this. Now, suppose in the open market, the price of Ethereum goes up. It goes up from $100-400. Arbitrageurs see an opportunity. They see the automated market maker is offering one for one. There's an incentive to go into the open market to buy DAI, and then deploy those DAI, send those DAI to the AMM and withdraw Ether and make a profit off of that.
Play video starting at :14:46 and follow transcript14:46
This is not going to be like the previous example. The previous example, all the Ethereum were drained from the contract, and I call that a naive AMM. This one is going to be different. It turns out that the arbitrageurs will do what they're supposed to do; they will add DAI to the contract, they will withdraw Ethereum, but at a point they stop. The point that they stop is when there are five Ether left in the contract. The contract will end up with five ETH and 2,000 DAI because there's a formula. The formula in the smart contract says that the product of the total supply must be 10,000. In this example, when we go to five ETH with 2,000 DAI, the product is 10,000. Notice that the ratio is exactly the market price, the 400 DAI for one ETH. Essentially, this automated market maker has adjusted to actually pick up on the market price. Here's a little more detail, and this is what the constant product automated market maker looks like, where you multiply the supply of the DAI times the supply of the ETH, you get that 10,000, and that 10,000 is constant, and this is called a constant product automated market maker. Notice the first line here where we've got in the pool, what we start with, 10 ETH, I've got 1,000 DAI, product, 10,000. You can see the price of ETH in terms of DAI is 100. As DAI are contributed to the contract, the price changes. You can see that what happens is that the product remains 10,000 no matter what. You can see on the far right column that the price of ETH in terms of DAI increases until it gets to 400, which is the market price. This is where we stop, and again, the product of 5 times 2,000 is 10,000. This is how this particular automated market maker actually works. Let's think about what Alicia is doing. She owns 10 percent of the pool and she withdraws all her funds from the pool. When she withdraws everything, she's going to end up with a half of an ETH and 200 DAI. The US dollar value is 400, so that means the value of the ETH is 200, and then she's got 200 DAI, which is 200. So the total value is 400. Her original investment was 200, so she's doubled money, which is good, but let's again think of the impermanent loss. If she didn't put her funds, if she didn't put her ETH and the DAI into this automated market maker, what would it be worth? Well, she had one ETH and that is worth $400, she had 100 DAI, that's worth $100, so that's 500. The impermanent loss here is 100, so 500 minus the 400. We're simplifying here because we're not accounting for any fees in this particular example, but you get the idea that this is a more sophisticated, automated market maker. There's still impermanent loss that happens, and this is a disadvantage of this particular technology.
Play video starting at :19:26 and follow transcript19:26
For any shift in price, there will be some permanent loss. It is path-independent, so it doesn't matter if there's one trader or 100 traders. It's completely irrelevant.
Play video starting at :19:44 and follow transcript19:44
The impermanent loss is calculated the same if there's one or 100 different traders.
Play video starting at :19:55 and follow transcript19:55
It turns out that the most attractive pairs to have for AMM are pairs that have correlated prices, so you don't see a lot of deviation , so-called mean-reverting pairs. You don't get one token greatly deviating from the other token. For example, stablecoin pairs are very attractive for AMMs because the impermanent loss is really small.

# Collateralized Loans
Now let's talk about collateralized loans. I've mentioned these loans a number of times and I want to go into a little more detail. Collateralized loans are really important for decentralized finance. We will talk in some detail in the third course about the mechanics, in particular, how MakerDAO operates, but this is a really important building block for decentralized finance. Basically, we will talk about different types of loans, including a little later on, we'll talk about a flash loan that has zero duration, and that's a loan that doesn't require collateral, which is interesting. The idea is that we don't know who the users actually are and there's no credit check. There's got to be at this stage of DeFi, some collateral. It is possible to do and there are uncollateralized non-flash loan lending, but it involves another mechanism of chain where some trust actually is involved. Again, in the Ethereum world, everybody is up here and people don't necessarily know who you are. Your credit score is not something that's relevant, but your collateral actually is. There is something called foreclosure risk or the risk that a loan goes under collateralized. That will happen especially if you've got very volatile collateral. Then decentralized finance, you could have volatile collateral. If you use Ethereum, that is volatile. If you use USDC, that's not volatile, but it's not obvious why you would use the USDC. The collateral is going to be very important. If there is volatility and if there is a situation where there's undercollateralization, then there will be liquidation. It is very important to maintain the integrity of the loan or whatever you're creating, that you don't violate the collateralization rules. We've already talked about the role of keepers to enforce this. They will trigger liquidation if something is undercollateralized. Liquidation is very straightforward, that happens, and the collateral is liquidated, potentially in an auction or directly sold on a decentralized exchange. The trigger is basically set by the governance, and as I mentioned earlier, this is not automatically done that a keeper is involved. This is a user that basically sees that there is a loan that's undercollateralized and they go and foreclose it. They will get a reward for actually doing that. As I mentioned earlier, the reward varies across different protocols. It might be a straight fee, or it might be that the keeper gets to keep the residual, if there's anything left over. There are penalties for liquidation, and if you're undercollateralized, this is far different than centralized finance where you get a call from your broker saying, "Oh, well, you're close to your margin, you need to put some more collateral in." There's nothing like that. There's no broker calling you asking you to do this. You need to do this on your own, monitoring your particular situation. If more collateral needs to be posted, then you better do it or you'll be liquidated. So this is an important part. It's also interesting, and we'll talk about this in detail in the third course, that the collateralization can actually back a token. This is what happens with DAI, this is what happens with other synthetic tokens. You can say that this token is worth X. To keep it worth X, we've got this collateral and it's overcollateralized. People actually believe, well, it must be worth X because there's lots of collateral there to keep it. Basically people have faith in it and the faith is based on data that it's completely transparent. It's not just talk. Talk is cheap. It's the data. You can actually see what the collateralization is, exactly what it is. It's possible that you can have this collateralization to back a token. We'll talk about the Synthetix token, the Synth. We'll talk about Yield Protocols, yToken, we'll talk about, in some detail, MakerDAOs, DAI, and how that works. Remember DAI is a stable coin that's collateralized by crypto, not by US dollar. How can they do that given that crypto is so volatile? Well, they do it with overcollateralization and they need to be really careful, because if the value of the collateral drops below the peg at a dollar, then people basically will no longer believe that the peg can be maintained. This is very important for that particular Protocal.

# Flas loans

Okay, so now let's talk about flash loans. I've mentioned them a number of times and this is something that's very special in the DeFi space. So think about traditional finance. So, It's really hard to think about a flash loan in traditional finance. So if you think about traditional finance, you've got a loan rate and the loan rate depends upon the riskiness of the party that is borrowing.
Play video starting at ::39 and follow transcript0:39
It depends on the maturity of the loan. And the idea is the longer the loan, the higher the loan rate because over a longer period of time, it gives a higher chance that something bad might actually happen. And interest rates are generally higher at longer maturity. So the term structure or the yield curve usually slopes upward, so that's how a traditional loan works. So the longer the duration of the loan, the higher the rate. So we're going to talk about something that is much different. A zero-duration loan.
Play video starting at :1:32 and follow transcript1:32
So so how does that work?
Play video starting at :1:35 and follow transcript1:35
So the idea here is that the shorter the duration of the loan, the less risky the loan should be.
Play video starting at :1:46 and follow transcript1:46
So with lower risk, then the rate on the loan will be lower.
Play video starting at :1:54 and follow transcript1:54
So the flash loan is instantaneous.
Play video starting at :1:59 and follow transcript1:59
So it happens within the same transaction.
Play video starting at :2:4 and follow transcript2:04
And don't confuse this with an overnight loan.
Play video starting at :2:8 and follow transcript2:08
Banks do overnight loans all the time because that's overnight and a lot can happen overnight.
Play video starting at :2:18 and follow transcript2:18
So this is different, it happens within a single transaction.
Play video starting at :2:24 and follow transcript2:24
So this is important to understand in the context of what we've been talking about in terms of the atomic nature of these transactions. And how these transactions are actually structured, potentially using a complex transaction that's got many steps that interact with many different smart contracts on the Ethereum blockchain. So one thing that is really interesting here is that we'll start out with a loan, but if anything happens, so that if there's any issue in the different steps at the beginning, we start with the loan. At the end of the transaction, we pay off that loan. If there's anything that happens, we revert to the original state as if nothing has happened.
Play video starting at :3:30 and follow transcript3:30
So basically we can go and do a flash loan.
Play video starting at :3:38 and follow transcript3:38
Indeed, with no collateral because effectively there's no risk because it's being paid back immediately. And if there's any problem that's encountered in the transaction,
Play video starting at :3:52 and follow transcript3:52
It's as if nothing happened, we revert to the original state.
Play video starting at :3:58 and follow transcript3:58
So again, this is a very interesting possibility. So let's think about the risks there. There's no counter party risk, And there's no duration risk.
Play video starting at :4:15 and follow transcript4:15
So, and I've got plenty of examples on this, we're going to take advantage of some arbitrage opportunity where you're buying and selling. We take the loan to start things off, we're going to be buying on one contract, selling on another contract and then paying off the loan and whatever is left over is going to be our profit.
Play video starting at :4:37 and follow transcript4:37
So this could be an arbitrage transaction, this could be somebody just re financing their loan at a cheaper rate.
Play video starting at :4:46 and follow transcript4:46
So there's lots of possibilities here. And it also is something that speaks to the democracy of decentralized finance that this mechanism is available to anybody.
Play video starting at :5:5 and follow transcript5:05
I will show later on a transaction and we don't know who it is. And it might be somebody of modest means,
Play video starting at :5:15 and follow transcript5:15
That takes over flash loan of the equivalent $200 million dollars and does a series of transactions and then pays it off. And makes a profit.
Play video starting at :5:28 and follow transcript5:28
So think about that in traditional finance, who's going to be able to do that, a hedge fund?
Play video starting at :5:37 and follow transcript5:37
So this is a very, very powerful idea. So I don't want to give the impression that there is no risk here in the total sense. There is no counter party risk, there's no duration risk because this happens in a single transaction, but there's always risk and the risk is a smart contract risk, which I'll go into great detail in the fourth course in this learning experience.