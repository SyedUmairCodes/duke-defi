# Blockcain
The second module in DeFi Infrastructure takes a much more detailed look at the foundations of decentralized of finance. We'll talk about blockchain, which I've just introduced. Cryptographic hashing, cryptocurrency in a little more detail. Smart contracts, oracles, stable coins, and little more on decentralized applications. That's where we're heading. Let's start with blockchain, and let me give a basic introduction. Blockchain, again invented by Haber and Stornetta in1991, is basically a software protocol. That's like one way to think about it. There's no one blockchain. This an idea that is a very general idea. Bitcoin's blockchain is different than the Ethereum blockchain. Potentially there's thousands of different blockchains, but they do have commonalities in terms of basic items, like allowing multiple parties operate under shared assumptions and data. This is key without trusting each other. That's much different than centralized finance. There needs to be some level of trust. The trust here is within the technology, not the different parties.
Play video starting at :1:51 and follow transcript1:51
The data that we're talking about for blockchain could be anything. It could be a transaction where I transfer some in Ethereum to somebody else, but it could be location, destination, and information. Could be supply chain details. This is a very general technology. The idea is you've got this record, it's tamper-proof, and it's open and people can see it. I give an example in my course. You go into the grocery store, you see some lettuce that supposedly organic, has got a QR on it, you scan it, check a blockchain construct that tells you when it was packed, where it was packed, were the farm is organic, every single hop on the supply chain, and how long has been on the shelf at the grocery store. Again, this is a very general idea. Part of the basic structure is the blocks and the chain that links the blocks. I'll have to go through in some detail as to what that means. But in the bottom line, it's just really easy to do an audit. That means you can trace all of the transactions. You can figure out the balance of any address. It's very, very straightforward technology. Here is the article that I mentioned, Haber and Stornetta in 1991. There is a lot of misunderstandings that people think that blockchain was invented by Satoshi Nakamoto. It's just not the case. The idea was invented by Haber and Stornetta. Let me try to describe what's going on with a blockchain. It's a ledger. Think of it as a spreadsheet. Indeed, sometimes I pitched the idea in the following way. Excel is a spreadsheet, unless you get 200 rows in the spreadsheet. Well, anybody could go edit, let's say, row 100 and change the spreadsheet. In a blockchain technology, you can add but you can't edit. You can add row 201, but you can't go and change row 100. But it's different. It's not just a single spreadsheet that I've got on my desktop. This is a distributed ledger. This is what a distributed network looks like. Notice that there's no single point of failure, that if some of the nodes in the network go offline or are corrupted, it doesn't really impact the network because there's so many copies of this ledger. There is extreme redundancy. The other attributes are transparency which we've talked about and immutability. Again, you can add that. Think of the row 201 in to the ledger but you can't go and edit the history. Now I say you can't do it, but I need to prove to you that you actually can't do it. This is what it looks like. These are some blocks and the cryptographic security is quite elegant. We've got transactions in these blocks. Basically, look at the arrows connecting the last line of one block to the next line of the next block. Last line of the block to the far left is connected to the first line of the block in the middle. That is going to be important for us. Basically, that last line of the block, think of it as a fingerprint that's unique to all of the content of the block. The block has got many transactions in it. Then there's a fingerprint that we call a cryptographic hash that's unique to all of that data. What I mean to be clear, if I alter even in the most subtle way, the data, the fingerprint changes. The key thing here is the fingerprint for that first block on the far left is repeated as the first line of the next block. The record, the fingerprint, or cryptographic hash of the block on the far left is repeated in the first line of the middle block. Then when the middle block is filled up with transactions, similar thing happens. We get a new fingerprint that takes all of the data, all of their transactions, including that fingerprint at the very top. Again, that's unique to the second block and it is repeated at the very top of the block on the right. This is why it's called a blockchain. There are blocks and the chain is the link between the last line and the first line. There's commonality that puts them all together. Hopefully, you can see already the beauty of this idea. For example, if it was the case that the block on the left somehow got corrupted, well, if it's corrupted, then the fingerprint at the bottom is going to change. Then it won't match the first line of the next block. The network seizes as about the chain is broken, let's replace that block on the left with a copy that actually does work. This is really important property that gives this technology its immutability. If we need to add to the blockchain, we add a new block, we don't go and edit the past. You can see all of these blocks for Bitcoin going back to the very first block which is called the Genesis Block, same thing for Ethereum. Everything is wide open on the Internet. Anybody can download a complete copy of the blockchains.
Play video starting at :9:33 and follow transcript9:33
What about security? The key idea here is the cryptographic hash or the fingerprint as I've called it. If there is any alterations, so I say that you can't edit a blockchain, but let's suppose that I actually do. Remember I said that anybody can download, let's say the Bitcoin blockchain. Let's say I do that. Let's say that I change a block. I can do that, just edit it. But again, the same problem will occur. That when I edit the block, the cryptographic hash at the bottom will change. When that changes, the network sees that the block has been corrupted and there will be a search to find the block that actually fits. It's futile. It's futile to actually try to change because if there's any corruption, it's immediately seen. Because the chain is broken and the block will be replaced and there's plenty of copies of the uncorrupted blockchain across all of the nodes in the network.

# Hashing
So I've talked about hashing and this is really important for both Bitcoin and ethereum and decentralized finance in general. So I think it's important for you to have a deeper understanding about what is actually going on with hashing.
Play video starting at ::21 and follow transcript0:21
So let me give you an example. Really simple example. It's a simple hashing algorithm. So I want to send an email to Daniel but a little worried because there could be a problem with the transmission and somebody potentially corrupting are the email so there needs to be some mechanism to verify that what I sent her is exactly it's not been corrupted so this is the way that we're going to do it. So I sent an email to Daniel but then and the email is really simple, it's a single word Hello?
Play video starting at :1:11 and follow transcript1:11
And then I've got a coding scheme where each word is going to be encoded as a number so as one B is two dot dot dot Z is 26.
Play video starting at :1:25 and follow transcript1:25
So hello would be 85 12 12 15.
Play video starting at :1:30 and follow transcript1:30
And then I'm going to multiply those numbers together And I get 86,400.
Play video starting at :1:37 and follow transcript1:37
So I post that number on my website and people looking at that number have no idea what it is.
Play video starting at :1:48 and follow transcript1:48
So Danielle gets my email and she uses the same coding system And she comes up with 8000 Our 86,400 she checks my website it matches. Therefore the message is secure.
Play video starting at :2:10 and follow transcript2:10
So if there was some corruption like instead of hello H A L L O was sent then when Danielle does the hashing, Should we get 17,280.
Play video starting at :2:25 and follow transcript2:25
She looks on my website And she's 86,400 and she knows that there's been corruption and we need to try again.
Play video starting at :2:36 and follow transcript2:36
But this simple hashing algorithm is unsatisfactory. It's way too simple and it is subject to what's known in the hashing literature as a collision and that is the two different inputs. Two different words give the same hash and I'll give you an example here that suppose an adversary intercepted the message and changed it from Hello. There's something that's got a very different meaning.
Play video starting at :3:15 and follow transcript3:15
Hell well when Daniel gets that message and does the cryptographic hash that we've got, It's 86,400 and she has no idea that message has been corrupted. So we need to do better than this but it's the basic idea of hashing. So what is used in Bitcoin is a hash called secure hashing algorithm to 56 or SHA 2 56 and I've got a link here. If you're interested, I'll show you some output in a few minutes. This is a one way function importantly this is not encryption.
Play video starting at :4:4 and follow transcript4:04
So when you encrypt something, there's a key to decrypt to get back the original message. This is not how it works.
Play video starting at :4:15 and follow transcript4:15
Okay. And I'll give you some intuition the hash, the 256 hash the 256 is the number of bits 256 bets.
Play video starting at :4:28 and follow transcript4:28
And often we represent this in hexi decimal form. So hexi decimal is based 16 which is the Numbers 0-9 plus the first six letters Of the Alphabet. So total is 16 characters. And when you do that you can represent instead of the hash is 256 zeros and ones. It's much more compact. So it's 64 hexi decimal characters.
Play video starting at :5:1 and follow transcript5:01
Okay, so again this is not encryption.
Play video starting at :5:9 and follow transcript5:09
So it doesn't matter the size of the input, whether it's the word hello or whether it is a book or anything digital, it could be a picture, it could be a movie. The output Is 64 hex to decimal characters.
Play video starting at :5:30 and follow transcript5:30
So let me just push this a little harder because I know some people are confused by this. So again, the cryptographic hash is not encryption because there's no way to reverse.
Play video starting at :5:47 and follow transcript5:47
And intuitively think about you've got a movie, it's eight gigabytes.
Play video starting at :5:58 and follow transcript5:58
You feed it into A shot to 56 program and it Delivers 64 characters.
Play video starting at :6:8 and follow transcript6:08
Doesn't make any sense to you That you could take those 64 characters and somehow unraveled them into an eight gigabyte movie.
Play video starting at :6:21 and follow transcript6:21
I don't think so. So this is a one way function. And let me show you how it works with this website. I've got some screenshots. I'm going to do something really simple. Hello world exclamation mark. Then I'll put a number after the actual word. So that's what it looks like. Hello world. And notice at the very bottom Is the 64 characters in terms of hexi decimal and when I make a change, So instead of Hello World Zero, Hello World one notice the hash is completely different. So it's not like you use the old hash and then just change one character at the end. It is completely different. Hello World 2, completely different.
Play video starting at :7:15 and follow transcript7:15
If I went back and did the one I would get back what I just showed you for one. So it is unique. So when you've got an input it's got a unique output in terms of this hash and then the last one I'll show you is kind of interesting. Hello world exclamation Mark, 40 to 50 notice The hash that's returned has got four leading Zeros.
Play video starting at :7:52 and follow transcript7:52
So that's a little bit rare To have four leading Zeros.
Play video starting at :7:58 and follow transcript7:58
So think about the probability I've actually getting four zeros in a row. So we had 16 characters. So it's one of the 16 to the power of four.
Play video starting at :8:11 and follow transcript8:11
Indeed that's the reason that the number is 4250 that I had to try lot of numbers to get those four leading zero. So think of me have my computer doing hello world zero. Hello 01 234 dot dot dot dot.
Play video starting at :8:32 and follow transcript8:32
And finally when I get 4250, it's a lot of hashes, But I get the four leading Zeros.
Play video starting at :8:41 and follow transcript8:41
So This is the shot to 256, ethereum Uses the K cock to 56 which is a different algorithm And I will show you what the hello world 450 looks like. And it is a completely different hash. So it's a different algorithm. So that means when you put the same input into a shot to 56 as a cake octu 56, you're going to get different hashes. So again, the Peacock to 56 is used in Ethereum. The Shaw to 56 is used in Bitcoin. So that's essentially how it works. So the modern kind of example of my email Is that I send the email to Danielle but then post their shot to 56 hash of the email on my website.
Play video starting at :9:46 and follow transcript9:46
And when she gets the email she does the shot 56 sees that it matches the hash on our website and we know we're secure.
Play video starting at :9:57 and follow transcript9:57
So this sort of hash does not suffer from the problem of a collision at least with the current computing and it is widely used. So this is used outside of decentralized finance. What I've described in an email is how emails actually work.
Play video starting at :10:20 and follow transcript10:20
This happens all the time to make sure there was no corruption of the email in the different hops it takes over the internet.
Play video starting at :10:30 and follow transcript10:30
Okay, so there's a little bit more here and it is what the miners do and I need to explain mining to you, mining is very important for this proof of work which we introduced as Adam backs idea to do a little work before you send that email. Well we're going to have to do some work here also. And the basic intuition is the following. Well we don't want to happen is for an adversary to go and corrupt block and then we know when that happens that the last line will not match the first line unless the adversary actually goes and changes all of the future blocks so that the hashes actually do match after the block is corrupted. And when I say corrupted it could be that the adversary takes a pile of Cryptocurrency and sends it to themselves even though they don't own it.
Play video starting at :11:42 and follow transcript11:42
They will own it if the corrupted block propagates. So we need to make it very difficult to do that.
Play video starting at :11:51 and follow transcript11:51
And this is where the mining actually comes in.
Play video starting at :11:55 and follow transcript11:55
So what the minor is doing here is the following. The minor gathers the candidate transactions that are sitting in something called the memory pool.
Play video starting at :12:6 and follow transcript12:06
So these are transactions that are not confirmed yet. They're not yet on a Blockchain. And the first thing the minor does is to verify the transactions and verification is very easy. They just basically check to see if the person spending actually has the token dispense.
Play video starting at :12:25 and follow transcript12:25
So once they verified they put a group of transactions together. And the way I initially described as you just run a hash and and then basically post that to a Blockchain, it's not exactly how it happens.
Play video starting at :12:43 and follow transcript12:43
So what the miners are actually doing is looking for a special hash, that's got a lot of leading zeros. There's a reason I showed you for leading zeros and now I'm going to explain why. So the miners are cycling through numbers just like I was cycling through 123 Up to 4250, but they go well beyond so they've got their transactions and that they're just adding a little bit of data with this number, just like I added to Hello World 4 250. And the number that they're adding is called the nuts And that short farm for number only once.
Play video starting at :13:30 and follow transcript13:30
And the miners are actually going through cycling through trillions of different non cysts to try to find a hash that's got lot of leading zeros.
Play video starting at :13:45 and follow transcript13:45
Okay, so a lot of computing power is actually used for this and is so much computing power that it makes it infeasible for an adversary to go change a block and then change the future blocks to make sure that everything works. So it makes it computationally infeasible and that's what the miners are doing, their verifying, they're doing this work so that it gives the ethereum Blockchain or the Bitcoin Blockchain, unprecedented security, It makes the block chains immutable. And it the cost is so enormous to take over the mining power of the network. It can't be done by any one person and it's really infeasible to even think about doing it by let's say a nation state. So it's unprecedented computational power that's used for these block chains and it makes them very secure.
Play video starting at :14:55 and follow transcript14:55
So it is not just the money that you would have to spend on computing power.
Play video starting at :15:8 and follow transcript15:08
The computing power itself is specialist. This is not like buying a desktop computer. The mining rigs as they're called Are highly specialized. They do one thing in the Bitcoin world. A shot of the sex in the theory of world. Kay Kok 2 56.
Play video starting at :15:31 and follow transcript15:31
Okay so these just to think about ordering the equipment To basically take over 51% of the network is really really infeasible. So this is how proof of work block chains operate. We'll talk later in the learning experience about different alternatives to proof of work. Including proof of stake. And at the very end we talk about some of the risks including environmental risk and have some comments on the extreme amount of energy and most of it fossil fuel based that's used in mining and what that means for the future of Cryptocurrency

# Advantaes and disadvantaes
Let me talk about some of the advantages and disadvantages of this technology.
Play video starting at ::8 and follow transcript0:08
Blockchain actually adds a lot. It provides something that we didn't have before. It allows us to verify ownership. You can quickly check this immutable ledger to see if somebody actually owns what they claim to own. Again, this ledger is immutable. It gives this verification of ownership. It also allows for the efficient exchange of ownership. This is an exchange without a middle person, or perhaps you could think of the algorithm as the middle person, but it's just allowing for a peer to peer transfer. It's also interesting that this technology doesn't differentiate, doesn't put labels on people. In traditional finance, or a customer, or a retailer, a banker, there's nothing like this in this technology. This is a much different situation than we've had in the past where you're a peer and there's no other label. That's irrelevant. These blockchains are special. Again, blockchain is a general technology. There's many different implementations of it. When I talk about a consensus protocol, what I mean by that is essentially a set of rules that determine what kind of blocks can become part of the chain and are eligible to be the truth. There's different consensus mechanism that we'll talk about in the course. Importantly, once the block is in the chain, it's there forever. If you make a mistake and send some token to the wrong person, it's too bad. It's there. Maybe that person might decide to return it, but it's completely up to them.
Play video starting at :2:42 and follow transcript2:42
These protocols are all designed to be resistant to tampering with up to a certain bound. Different protocols for consensus, and we've really only focused on proof of work at the stage. They all have their limitations including a proof of work.
Play video starting at :3:11 and follow transcript3:11
Bitcoin and Ethereum use proof of work as their consensus protocol. What's happening is, as I said, the miners are going through these numbers trying to find a very special hash that it's got this property with a lot of leading zeros. It is possible, however, in proof of work that an attacker could theoretically come up with 51% of the network power and cause some damage presents a limitation of proof of work even though I've already argued that it's just really unlikely that an attacker could afford to do that. Indeed, it's not clear what the motive would be because if you do that attack and, let's say steal some token, given that people know that there's an attack the confidence and the network basically plummets as with the value of the crypto.
Play video starting at :4:28 and follow transcript4:28
The power of the network is a big benefit because it makes it just extremely unlikely that a successful attack could be carried out. Now, as I said, there's many cryptocurrencies out there, and many of them are nowhere near as strong in terms of proof of work as Bitcoin or Ethereum, and that is a risk for these smaller cryptocurrencies because somebody could actually go, perhaps even rent computing power to attack that network. But for the main cryptos, they are very strong in terms of the computing power. Again, I introduced this idea of mining. The miners are cycling through the nonces, try to find that special hash. This is very intensive in terms of computation. Basically, it's a lottery. What I mean by that is that there are many different miners that are cycling through the hashes trying to find that special hash. The first one that discovers the correct number of leading zeros wins. What do they win? Well, they get some newly minted cryptocurrency. They also get the transaction fees that might be associated with the individual transaction, the big incentive to actually do this. But it is computationally very burdensome to actually do this. Remember, they are verifying transactions, then they basically do this work by putting a nonce attached to the transactions, and then the one that wins a lottery gets paid and it's a very generous reward. That reward, interesting, but every three years is halved in Bitcoin and that's why in 2140, the supply of new Bitcoin goes to zero. How difficult is it to find that winning hash? This is an example I use in my class, thought experiment. Suppose you've got 13 decks of cards and you've got a shuffling machine,
Play video starting at :7:11 and follow transcript7:11
and basically, what you're going to do is to look for something really special. You turn over the first 13 cards, the shuffling of 13 decks and you are looking for the following, the two of clubs, the first 13 cards. It's just incredibly right. Just imagine how many times you have to shuffle those 13 decks to be lucky enough to come up with 13 two of clubs in the first 13 cards. This is the sword of computing power that's necessary. It's a huge amount of hashing or shuffling that's going on amongst the miners. We have, at Duke University, a Blockchain Lab for students that has some demonstration machines that the miners actually would use. We actually have a mining operation with an Antminer S17, and that's what it looks like on the right. It does 53 trillion hashes per second. It's a very powerful machine. Again, the winner gets a reward of a new Bitcoin. If you are just mining on your own, it would be just infeasible. You have to wait centuries before winning even one. Our machine, even though it seems very powerful at 53 trillion hashes per second, it's actually only 0.002 percent of the networks power.
Play video starting at :9:8 and follow transcript9:08
We also have an Ethereum mining machine. Again, it's a different algorithm. Again, this machine, the S17 does one thing, the SHA-256. The Ethereum machine does one thing, the Keccak-256. This is what our dashboard looks like in terms of the number of hashes we're doing per second. Then you can see the vertical lines are when the pool that we're in actually wins the lottery. What do I mean by pool? Remember, I said that if we're operating alone, it would take centuries to win. What people do is they pool, so you become part of a mining pool.
Play video starting at :10:1 and follow transcript10:01
Let's say you've got 10 percent of the hashing power of the pool, when the pool wins, then you would get 10 percent of the winnings. Doing it this way, it means if you're in a larger pool, you're getting some payout perhaps multiple times during the day. For Bitcoin, the blocks are every 10 minutes. This is an actual picture that I took the other day of our mining Briggs. The one on the left is the S17 that does the SHA-256, and the E3 on the right does the Keccak-256.
Play video starting at :10:47 and follow transcript10:47
In proof of work, you need to do mining. It is both a strength and a weakness of the technology. The strength is because of the unprecedented security. It really seems infeasible for any one or a group to attack the Ethereum or Bitcoin network. But it's also, as I mentioned earlier, a weakness because of the electricity cost of the mining is enormous. Ethereum will migrate to a different less energy, inefficient technology for their consensus. Ethereum will move from proof of work to a proof of stick mechanism. That will likely happen in 2022. That will solve the environmental problem for Ethereum, but Bitcoin is a different story. It's likely stuck in the proof of work mode and I have more to talk about in terms of this risk to Bitcoin in future modules.

# Cryptocurrency
Let me talk now about crypto currency. I've mentioned it a number of times, but I want to go into a little more detail. So Cryptocurrency is a digital token. That's not a physical token, It's digital. And it's cryptographically secured, and you're able to transfer it. So one important aspect of the Cryptocurrency is something known as asymmetric key cryptography. So the owner of Cryptocurrency actually starts out with a private key. Which is just a long random number. That's one part of the key, and that's secret. There's also a public part of the key. So what happens is, that long random number is passed through a mathematical algorithm. And what comes out is a public key. So the private key is not for sharing. But the public key is basically used to determine an address. So this is important, it's easy to go from the private key to the public key. But with current technology, it's not feasible to go from the public key to the private key. So you can't derive somebody's private key today from the public information. So it's asymmetric key cryptography, means that there are two different keys that are really important for what you do. So, again the public key is used to derive an address. And I'll show you how that's actually done. And then when we actually transact in Cryptocurrency? If I want to receive, then I will basically set up an address. How do I do that. Well I generate a random number, that's my private key. Then I pass that through an algorithm. It gives me a public key, then I derive an address. And then somebody basically signs over their crypto to me. So how does that happen? Well in signing over the crypto, you basically use the digital signature algorithm. And that algorithm once signed proves that you're the owner of the actual currency. And when that happens it's transferred to me. Now that currency is associated with my private key. And of course I can do the same thing. I want to send you the Cryptocurrency. You generate a random number. You pass that through an algorithm, and you get a public key. You turn that into an address, I see your address. And then I sign over my crypto to you. And when I sign it, I sign it in a way with this Digitorial signature. That anybody in the network that sees my signature, and knows my public address. Can verify for sure that I must be the one that has the private key. As soon as that's done, then it is effectively transferred to you. And transfer, notice we're not transferring the private keys. We're actually creating a new private key every time this is done. So this is the way that transactions actually occur. Private keys, remember I said are secret. Well this is something we will deal with in the fourth course. When we talk about risks, but let me just give you a little preview. If you lose your private key, then somebody's got the right to spend what was your coin. Indeed there was a good example early in the space on some TV talk show. Somebody was brought on to kind of explain what was going on in the crypto space. And the interviewer said, well what does the private key actually look like? And the person pulled their wallet out, and showed, well it's just like a QR, like this. But everybody on TV saw the QR. So somebody actually took the QR, and spent the crypto this person had. So in showing your private key, it was foolish, because you lose your crypto. It turns out that this was a good lesson. Because the person that grabbed the crypto sent it back, saying don't show your private key again. So it's important to keep your private key secret. And there are many different ways to do that. One way that is highly recommended is to keep it unconnected to the internet. So in a USB key, or even a hard copy. You should not have it linked to the internet. There was an interesting story in the New York times this year. About somebody that basically decided to store their private keys in a special hardware wallet, that was password protected. But then the person forgot the password. And it turns out that the crypto in the wallet are worth about $120 million. And this device, you can try the password up to 10 times. And on the 10th if you get it incorrect, then the hardware physically destroys itself. This person has tried eight times, got two more to go. And if they fail 120 million gone. So again this is an issue, right? It's kind of analogous, you're walking down the street in New York, and some cash falls out of your pocket. And somebody picks it up is gone. It's the same thing, you lose your private key it's gone. Okay, so what do these cryptos actually look like? And this is from coin market cap, which is a website that attracts thousands of cryptos. And you can kind of see here the top cryptos. Bitcoin at the top, Ethereum, there's different types of cryptos here. So there's some stable coins that are in this list. So we'll talk about the stable coins later, and these are tied to the dollar. So tether, and US dollar coin are on this list. And the list goes on, and many of these have different Blockchain technologies, that we will talk about later in the learning experience. So I'll show you only the top 20 here. But again there's many, many cryptos. And even these top 20, even like number 19, it's got substantial value. And this is all value that's recently been created. So within the space of crypto, we're talking about Approximately $1.5 trillion of value that's been created. All right, over a very short period of time. So this is small compared to, for example, Apple, it's got two trillion of market cap. But nevertheless, Apple is an important company, and people notice it. And people are noticing what's happening in the Crypto space, and in particular, the device base.

# Smart Contracts/gas/oracles
So there's a lot of differences between ethereum and Bitcoin. And as I've already mentioned, one of the key innovations in ethereum is the possibility of having a smart contract. So a small computer program that actually runs within the blockchain. Indeed, ethereum is sometimes called the virtual ethereum machine.
Play video starting at ::29 and follow transcript0:29
So think of Bitcoin as a payment technology and think of Ethereum as a smart contracting platform. You can do payments in Ethereum just like you can do in Bitcoin but there's enhanced capability. So a smart contract is code that can create and transform arbitrary data or tokens on top of the blockchain that it's actually part of, okay? This allows us to trustlesly encode rules for any type of transaction and even create assets from this smart contract. So this is very interesting in terms of what Ethereum has actually done. So there are many tokens that are associated with Ethereum. So it's not just the value of a theory when you look at the number of tokens times whatever its trading for. You need to look at all of the associated tokens with Ethereum. Okay, so this is very very deep. So you might see that, well, Bitcoin is worth more than Ethereum. Well that that's not the whole story here because it doesn't count all of the tokens that are associated with Ethereum.
Play video starting at :1:56 and follow transcript1:56
Okay, so I mentioned that these are trustless. So many of the standard contracts that we deal with in business for example an option contract or call options and put options. Those are really easy to algorithm and code and a smart contract can do that. So for simple contracts, these smart contracts are just ideal. And again, when you run the smart contract, it runs on every node in the ethereum network. So it is redundant, just like every transaction is recorded in the Ethereum network on every single copy of the Ethereum blockchain. And the same thing for Bitcoin in terms of transactions, okay? So I've already mentioned that this idea is a very general idea. So this is a course that's focused on decentralized finance, but there could be another course that uses much of the same material, but talks about supply chain mechanics, okay? So this is a very general idea. The low hanging fruit in my opinion, is finance, and that's where we're seeing most of the innovation today, but this is much more general and there are many other applications. So an important concept on Ethereum is the idea of gas. So you actually pay a gas fee for a transaction and this is analogous to, let's say you're running a computer program on a cloud platform, then you need to actually pay for it, okay? So gas is a very important part of this, but there's like another reason to have the gas and this is the problem of the infinite loop of code and sometimes known as the halting problem. So think of a car and let's say we've got a car that's a self driving car and it's stuck on autopilot, nobody is in the car and it just goes, so what is the limiting factor? Gas, so when it runs out of gas, the car stops, okay? It's the same thing in a smart contract that once you run out of gas than the contract stops, okay? So if there was some flaw in the code that caused it, the loop and loop and loop, it would only go for so long. An infinite loop would be a disaster for the network because every single computer is doing the same thing and it would take the computing power of the network. So this is something that's special to Ethereum. It is a turing complete protocol and Bitcoin is not, of course Bitcoin doesn't run a smart contracts. So gas is important, it's also for an attacker, somebody wanted to attack the network, it would be very expensive because it to run up a lot of computations, then they have to pay for it in terms of the gas. So let me give you a little more detail in terms of how gas works because it is important for decentralized finance. So there are two things that are important, first, the amount of gas and second, the price of gas, okay? So if you're trying to think about driving a car from point A to B. Well, you need to figure out how much gas you actually need to do that, but the actual cost will be the amount of gas times the gas price.
Play video starting at :6:35 and follow transcript6:35
So very simple transactions on the Ethereum network, they are done with a relatively low gas B. But as the transactions become more complicated, so perhaps the there's multiple steps in the actual transaction. When that happens, the price becomes higher because the amount of gas that you need is much more, okay? So the gas is usually measured in terms of the unit called a gwei. So wei is the smallest unit in Ethereum and a gwei is a billion thing of one ETH, okay? So the prices are quoted and the prices are actually determined by effectively in auction. So again, there are two things here, how much gas do I need? That's fairly straightforward because we can figure out the computing steps that are necessary for the candidate transaction. So you can figure out how much gas is needed, but then you actually need to go purchase that gas and the price of gas can vary depending upon the particular network congestion. So if a lot of people are using the network, the price of gas actually goes up and it could become very expensive, okay? So I've actually got some calculations here as to how this could work in terms of the number of cost and the way that it works is the following. That you've got an estimation of how much gas is actually needed to do the transaction and this is all kind of automatic and suppose that you actually send more gas than is needed.
Play video starting at :8:45 and follow transcript8:45
So when you do that, whatever residual is left over is refunded to you, okay? And who gets the gas fee, the miners, It's another incentive for them to do the work.
Play video starting at :9:3 and follow transcript9:03
And if you send not enough gas and the transaction gets let's say halfway through and then runs out of gas, then you lose that gas and the associated value that it cost you. So to run half a computer program too bad, you're not getting any refund because it's already been run but if their surplus, it actually goes back to you. So this has been a significant issue in terms of the price of gas. The price has been, the gas prices have varied this year between 50 and 700 gwei. So simple transactions were becoming really very expensive and when these transactions become expensive. Then you kind of decrease the efficiency of these markets and the problems that they're supposedly solving they're not really solving because the cost of transaction is so large. So this is an ongoing problem but there are solutions in the future to basically make sure that these gas fees are lower. So one thing is the Ethereum Improvement Protocol 1599, which will change the Ethereum blockchain and in a way that has got a number of advantages. It will allow more transactions and importantly the base fee for the gas is going to be burned.
Play video starting at :10:56 and follow transcript10:56
So burning, we haven't talked about yet but we will. And basically what that does is it takes the Ethereum out of circulation so it destroys it. So currently it just goes to the miners. So in taking this out of the circulation and it actually works for the miners but it actually serves to decrease the rate of increase in Ethereum, potentially making Ethereum more valuable.
Play video starting at :11:28 and follow transcript11:28
The miners still get some money for doing this because users can send them a tip to actually do their transactions so the idea is pretty straightforward. If you want your transaction dealt with quickly then you need to pay a premium, you do that in Bitcoin, you do that in a theory. So again this will make we believe the cost of gas go down and also make Ethereum more valuable.
Play video starting at :12:4 and follow transcript12:04
So I talked about the Ethereum Improvement Protocol. There's also ERC, so ERC is the theory request for comment and this is very important because it essentially allows new things to be created within the Ethereum architecture. So the most popular is the ERC 20 which delivers a token interface. It allows you to create a token that resides in the Ethereum blockchain, okay? So this is a great innovation, the ERC 20. In my teaching, we create our own tokens and the the uses are very, very interesting.
Play video starting at :13: and follow transcript13:00
So ERC 20 which will go into more detail later in the course is a fungible token. So that means that every ERC token is identical in value. So think of a like a $1 bill and a fiat currency, every $1 dollar bill has the same value and indeed 10 $1 bills equals a $10 bill, this is what fungability actually means. There's another ERC Called ERC 721 and this is a non fungible token and sometimes known as an NFT. So with this token the value he is unique to that token so the token is representing something. Sometimes we call them deeds and recently they've become quite popular in terms of representing pieces of art or videos even tweets.
Play video starting at :14:3 and follow transcript14:03
So the benefit of these ERCs is that the developers can create code for one interface that they're working on but given that you're compliant with the ERC 20, the token can be used in many different applications. So this is the idea of interoperability which will spend a fair bit of time talking.
Play video starting at :14:33 and follow transcript14:33
So oracles are something that is also really important to understand. So we know what the word oracle means but within a defy space it's got a special meaning. So a blockchain is self contained, so a blockchain doesn't use information from outside the blockchain unless there's an agreement upon an oracle. And an oracle is the way to bring information from outside a blockchain construct to the blockchain, okay? So this could be a data source, it could be the price of gold, it might be the price of Apple stock, that that information doesn't reside on the Ethereum blockchain. So how can we get that information in? And we actually have to build it into our smart contract and it goes outside of the blockchain to collect that information. And it's important that that information is reliable because if it's unreliable, that will create a problem for the smart contract, okay? So essentially this is a big problem and decentralized finance is a challenge to get a credible oracle. And there's many different companies that are working on this. And Chainlink is one company that is basically got a decentralized solution to the oracle problem. But again, this is a challenge to get data from outside of blockchain into a blockchain.

# Stablecoins/dApps

Let me now talk about two important parts of the foundations of DeFi, stablecoins and decentralized applications. Bitcoin and Ethereum are incredibly volatile, the price of bitcoin is approximately five times the volatility of the stock market, or five times the volatility of gold. Gold and the stock market, about the same volatility. It is subject to large swings, Ethereum, about the same. The idea of a stablecoin is that it's intended to maintain a price parody with some target asset, the most popular stablecoins are linked to the US dollar. But it doesn't have to be the dollar, could be something else, it could be gold, for example. When we say stablecoin, the coin is only as stable as the underlying asset. Even the US dollar can fluctuate in value, it's volatility is not that high versus other currencies, but nevertheless it is not completely stable. Basically, this is a great idea that allows people to get into the crypto space with a coin that is actually not as volatile as something like Bitcoin. If you're looking as a speculator for appreciation, there's no real upside here in terms of a stablecoin because let's say it's linked to the dollar,
Play video starting at :1:55 and follow transcript1:55
but it does provide an important aspect of stability which is used in many different applications.
Play video starting at :2:7 and follow transcript2:07
The basic idea of stablecoin is not a new idea, it turns out before the Federal Reserve, it was common for banks to issue their own currency. This is a photo of a 20 dollar bill from Merchants Bank of Augusta, Georgia from 1856.
Play video starting at :2:34 and follow transcript2:34
This is one from Boone County bank, again, $20. If you look at the fine print at the bottom, you'll see that this is actually backed by something. There's collateral and the collateral is a portfolio of public stocks. These banks would issue their own currency and they would have to have some collateral. The collateral could be gold, it could be silver, could be public stocks, or it might even be government bonds that were issued. Essentially this is just a way with some collateral to have something that is linked to a dollar. More modern example of course is Eurodollars. It's a massive market and your donors, and effectively a Eurodollar is a US dollar account that's offshore from the US. It began in Europe, that's why they call it Eurodollar. But as soon as that dollar account is offshore, then it's no longer subject to Federal Reserve regulations. Effectively, these tokens that are linked to the dollar have created the equivalent of a euro token.
Play video starting at :4:11 and follow transcript4:11
Let's talk about the different types of stablecoins. The most popular or the fiat collateralized stablecoins. This is a centralized mechanism, and let me explain why. The idea is that you present a company with $100, they put it in a vault and mint 100 of their stablecoin. That stablecoin is as good as the collateral in the vault and the ult needs to have the $100. They've it doesn't have the $100 than the value of the stablecoin is questionable. Now, it's interesting that the most popular stablecoin is tether high and that is a stablecoin with a very complicated history, has got a very large market capitalization and daily trading volume that exceeds things like Bitcoin, it's often the case that if you're training bitcoin is quoted in terms of tether rather than US dollar. It's got a complicated history because there's no regular audit of the reserves. In contrast, USDC, US dollar coin, that is backed by Coinbase and Circle, it's smaller but a very important player in the DeFi space. It resides on the Ethereum blockchain, there's version of Tether that also resides on Ethereum blockchain. Again, both of these coins are centralized. Again, the intuition is really clear. You need to trust somebody that the collateral is actually there. Again, Tether has got a complicated history. They were forced to provide some accounting of what actually is backed, has collateral. It's not all a short-term deposits that revealed that they even hold a highly volatile cryptos has collateral. Again, this is a technology that's got, in my opinion, much more risk than let's say, US dollar coin, but people use it, and many people believed that the risk is small because they're using it very quickly. You don't need to hold it for a long period of time. There are also crypto, collateralized stable coins. We're going to considerable detail in the third course, which is called defy deep dive. On the first collateralized crypto, stable coin, where you've got a crypto as collateral and that's MakerDAO's Dai. Dai is the stable coin and it is very closely linked to the US dollar. The collateral being crypto is quite volatile. As a result, you need to over collateralize. You can't have just 100 percent. You need to have much more like 150 percent of collateral when you issue these Dai. In the third course, we'll also talk about synthetic tokens from synthetics and talk about how they deal with stable coins also. There are also non-collateralized stable coins and these are not backed by an underlying asset, but they use an algorithmic expansion and contraction of the money supply or the token supply to try to maintain a peg. These are complicated and there's not a great track record when there's no collateral whatsoever. To be clear, just to look at this, US DC is a centralized collateralized stable coin with safe assets like US dollars. Dai is a stable coin that is also collateralized, but is collateralized with crypto and therefore, it is truly decentralized, so anybody can see what's going on. Then the third class are these non-collateralized stable coins. Again, it is complicated to make it work with a money supply policy of expansion and contraction. It is still frankly a open problem here on many aspects of stable coins, including the scalability of these stable coins. To basically become a viable mechanism for transfers, it might be that the space needs to become much larger than it is today. Let me talk briefly about a decentralized applications. I've introduced them already. But again, these they look and feel like the regular apps that we use on our mobile phones or our desktops or laptops, but they live on a decentralized smart contract platform. The key thing here is that there isn't some central server that is collecting your information and trying to sell you stuff. These are being operated out of a spark contract platform where you're actually putting peers together directly. There's no middle layer, I hear. These applications are permissionless, anybody can use them, and because of the nature of the Ethereum blockchain, nobody can censor you. It's not like you can be banned. That just doesn't exist in this space. Of course, there's positives and negatives to that, but it's just a fact that this is censorship-resistant.
Play video starting at :11:7 and follow transcript11:07
I need to also introduce this idea of DAO. DAO is D-A-O, and it stands for decentralized autonomous organization. This is a very special idea that is basically, it's an organization that is an algorithm. If you think about Bitcoin, it's like that. It's just a program. There are many people that make their livelihood from the computer program. Think of the minors being employed by Bitcoin. But for Bitcoin, there's no company. There's no board of directors, no CEO at Bitcoin. There's no financial statements, there's no tax. It's just a program. Smart contracts make it possible to have many companies like this. If we want to call them companies that are effectively algorithms. What has been done in the past where you start a company and you launch an app? Can be done much differently. You put a smart contract out that enables a decentralized application. Again, we'll go into more detail. Next, I want to talk about the problems that DeFi solves. I've gone through some of the problems. I've given you an overview, but we need to go a little deeper into these problems so you fully appreciate the power of this disruptive technology.